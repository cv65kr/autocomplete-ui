<html>
<head>
    <meta charset="utf-8" /> 

    <title>Simple example</title>
    <script src="./../dist/apisearch-autocomplete.js"></script>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <form action="./autocomplete.html">
        <h1>Apisearch autocomplete</h1>
        <p>Try write some album eg. Swimming</p>
        <input
            type="search"
            class="as-autocomplete"
            placeholder="search..."
            autofocus
        />
    </form>

    <script>
        // Create instance
        const autocomplete = apisearchAutocomplete({
            app_id: '9c078fa1a748',
            index_id: 'e742fbfbac24',
            token: 'daf93c2b-40bc-49f2-870e-f8f62ea524ad',
            options: {
                endpoint: 'https://apisearch.global.ssl.fastly.net',
            }
        });

        // item template
        var itemTemplate = '' +
            '<a href="{{metadata.url}}" target="_blank">' +
                '<img class="itemImage" src="{{metadata.img}}" />' +
                '<div class="itemTitle">{{#highlights.title}}{{{highlights.title}}}{{/highlights.title}}' +
                '{{^highlights.title}}{{metadata.title}}{{/highlights.title}} ({{indexedMetadata.year}})' +
                '</div>' +
            '</a>'
        ;

        // Setup
        autocomplete({
            inputTarget: '.as-autocomplete',
            poweredBy: true,
            itemsPerResult: 8,
            datasets: [{
                type: 'album',
                template: {
                    header: '<h3>Album</h3>',
                    item: itemTemplate
                }
            }]
        });
    </script>
</body>
</html>